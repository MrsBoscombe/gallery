function checkRefresh(){$.ajax({url:"checkrefresh.php"}).done(function(e){1==e&&document.location.reload(!0)})}function getFileNames(e){console.log("getFileNames called.");try{const t=fs.readdirSync(e),n=t.filter(t=>fs.lstatSync(path.join(e,t)).isFile());return n}catch(e){return console.error("Error reading the directory:",e),[]}}function start(){const e=document.getElementById("imageGallery"),t="../assets/images/gallery/",n=7;console.log(t),fetch("php/getFileNames.php").then(e=>e.json()).then(o=>{function l(){e.style.opacity=0,setTimeout(()=>{e.src=t+o[c],e.style.opacity=1,c=(c+1)%o.length},600)}console.log(o);let c=0;setInterval(l,1e3*n)}).catch(e=>console.error("Error fetching file names:",e))}function currentTime(){const e=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),t=e.replace(/^0/,"");let n=document.getElementById("time");n.textContent=t}$(document).ready(function(){setInterval(checkRefresh,1e4)});const fs=require("fs"),path=require("path");window.onload=start,setInterval(currentTime,250);let currentDate=new Date,options={weekday:"short",month:"long",day:"numeric"},formattedDate=currentDate.toLocaleDateString(navigator.language,options),date=document.getElementById("date");date.textContent=formattedDate,console.log(formattedDate),setInterval(currentDate,6e4);const dateNew=new Date;Papa.parse("./assets/documents/diman-tv-main-information.csv",{download:!0,complete:function(e){const t=e.data,n=t.slice(0,8);n.slice(1,2).shift();let o=new Date,l=`${o.getMonth()+1}/${o.getDate()}/${o.getFullYear()}`;for(let e=0;e<t.length;e++){const n=t[e][0];if(l===n){const n=t[e][2],o=t[e][3],l=document.getElementById("schoolDay"),c=document.getElementById("schoolWeek");l.textContent=`${n}`,c.textContent=`${o}`;const s=t[e][4],a=t[e][5],i=t[e][6],d=t[e][7],r=t[e][8],m=document.getElementById("lunch1"),g=document.getElementById("lunch2"),u=document.getElementById("lunch3"),h=document.getElementById("lunch4"),y=document.getElementById("lunch5");m.textContent=`${s}`,g.textContent=`${a}`,u.textContent=`${i}`,h.textContent=`${d}`,y.textContent=`${r}`;const f=t[e][1],E=document.getElementById("dayType");"0"===f?console.log("0-No School Today."):"1"===f?console.log("2:28 dismissal"):"2"===f?(console.log("12:28 dismissal"),E.textContent="12:28 dismissal"):"3"===f?(console.log("3-11:58 dismissal"),E.textContent="11:58 dismissal"):"4"===f?(console.log("4-11:00 dismissal"),E.textContent="11:00 dismissal"):"5"===f?(console.log("Summer Vacation"),E.textContent="Summer Vacation"):console.warn("Warning: else reached for school day type.");document.getElementById("events");const p=t[e][8],C=t[e][9],I=t[e][10];if(console.log(p),console.log(C),console.log(I),p){console.log("eventElement 1 if statement reached.");let e=document.createElement("li");e.textContent=p,document.getElementById("events").appendChild(e)}else console.log("Nothing in Event 1.");if(C){console.log("eventElement 2 if statement reached.");let e=document.createElement("li");e.textContent=C,document.getElementById("events").appendChild(e)}else console.log("Nothing in Event 2.");if(I){console.log("eventElement 3 if statement reached.");let e=document.createElement("li");e.textContent=I,document.getElementById("events").appendChild(e)}else console.log("Nothing in Event 3.")}else console.warn("Warning: Main else reached.")}}});